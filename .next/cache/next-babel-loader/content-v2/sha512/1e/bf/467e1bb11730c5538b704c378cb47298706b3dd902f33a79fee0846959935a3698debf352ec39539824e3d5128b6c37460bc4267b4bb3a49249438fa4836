{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport 'firebase/storage';\nimport Link from \"next/link\";\nimport { useEffect, useRef } from \"react\";\nimport fireApp from \"../../firebase_config\";\n\nconst Profile = ({\n  guest\n}) => {\n  const picRef = useRef();\n  useEffect(async () => {\n    if (guest) {\n      let imgFile = fireApp.storage().refFromURL(`gs://hotel-3c249.appspot.com/images/${guest.imgName}`);\n      await imgFile.getDownloadURL().then(url => {\n        guest[\"profilePic\"] = url;\n      }).then(() => {\n        picRef.current.src = guest.profilePic;\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsx(Link, {\n      href: \"/profile\",\n      children: /*#__PURE__*/_jsx(\"a\", {\n        children: \"Go Back\"\n      })\n    }), /*#__PURE__*/_jsx(\"h1\", {\n      className: \"pt-8 pl-8\",\n      children: \"Profile\"\n    }), guest ? /*#__PURE__*/_jsxs(\"div\", {\n      className: \"px-8 py-4 space-y-4\",\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: \"Details\"\n      }), /*#__PURE__*/_jsx(\"img\", {\n        ref: picRef,\n        alt: \"guest's image\",\n        width: \"300\",\n        height: \"300\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"First Name: \", guest.firstName]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"Last Name: \", guest.lastName]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"Phone: \", guest.phone]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"Address: \", guest.address, \" \"]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"Email: \", guest.email]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"Driver ID#: \", guest.driverId]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"Vehicle ID#: \", guest.carId]\n      })]\n    }) : /*#__PURE__*/_jsx(\"p\", {\n      children: \"Cannot find profile.\"\n    })]\n  });\n};\n\nexport async function getServerSideProps({\n  query\n}) {\n  let guest;\n  await fireApp.firestore().collection(\"guest\").where(\"email\", \"==\", query.email).get().then(queryData => {\n    queryData.forEach(i => {\n      guest = i.data();\n    });\n  });\n  return {\n    props: {\n      guest\n    }\n  };\n}\nexport default Profile;","map":null,"metadata":{},"sourceType":"module"}