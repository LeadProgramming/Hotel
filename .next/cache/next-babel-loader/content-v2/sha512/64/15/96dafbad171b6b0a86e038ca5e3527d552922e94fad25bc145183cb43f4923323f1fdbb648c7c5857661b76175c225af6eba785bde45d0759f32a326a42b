{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useRouter } from \"next/router\";\nimport { useForm } from \"react-hook-form\";\nimport fireApp from \"../firebase_config\";\n\nconst Signup = () => {\n  const router = useRouter();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors\n  } = useForm();\n\n  const imgUpload = e => {\n    const file = e.target.files[0];\n    const storageRef = fireApp.storage().ref();\n    const uploadTask = storageRef.child(`images/${file.name}`);\n    uploadTask.put(file).then(() => {\n      console.log(\"File Uploaded.\");\n    });\n  };\n\n  const onSubmit = ({\n    profilePic,\n    firstName,\n    lastName,\n    phone,\n    address,\n    email,\n    driverId,\n    carId\n  }) => {\n    fireApp.firestore().collection('guest').add({\n      imgName: profilePic.item(0).name,\n      firstName,\n      lastName,\n      phone,\n      address,\n      email,\n      driverId,\n      carId\n    });\n    router.push(`/profile?email=${email}`);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsx(\"h1\", {\n      className: \"pt-8 text-center font-bold text-gray-700 text-xl\",\n      children: \"Sign-Up\"\n    }), /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      className: \"space-y-2 w-1/2 m-auto bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\",\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"profilePic\",\n        children: \"Profile Pic:\"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"block w-full shadow border rounded py-2 px-3 text-gray-700 focus:outline-none\",\n        name: \"firstName\",\n        name: \"profilePic\",\n        accept: \"image/*\",\n        type: \"file\",\n        onChange: imgUpload,\n        ref: register\n      }), /*#__PURE__*/_jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"firstName\",\n        children: \"First Name: \"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"block w-full shadow border rounded py-2 px-3 text-gray-700 focus:outline-none\",\n        name: \"firstName\",\n        ref: register\n      }), /*#__PURE__*/_jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"lastName\",\n        children: \"Last Name: \"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"block w-full shadow border rounded py-2 px-3 text-gray-700 focus:outline-none\",\n        name: \"lastName\",\n        ref: register\n      }), /*#__PURE__*/_jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"phone\",\n        children: \"Phone: \"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"block w-full shadow border rounded py-2 px-3 text-gray-700 focus:outline-none\",\n        name: \"phone\",\n        type: \"tel\",\n        ref: register({\n          required: true\n        })\n      }), /*#__PURE__*/_jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"address\",\n        children: \"Address: \"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"block w-full shadow border rounded py-2 px-3 text-gray-700 focus:outline-none\",\n        name: \"address\",\n        ref: register({\n          required: true\n        })\n      }), /*#__PURE__*/_jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"email\",\n        children: \"Email: \"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"block w-full shadow border rounded py-2 px-3 text-gray-700 focus:outline-none\",\n        name: \"email\",\n        type: \"email\",\n        ref: register({\n          required: true\n        })\n      }), /*#__PURE__*/_jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"driverId\",\n        children: \"Driver ID#: \"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"block w-full shadow border rounded py-2 px-3 text-gray-700 focus:outline-none\",\n        name: \"driverId\",\n        ref: register\n      }), /*#__PURE__*/_jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"carId\",\n        children: \"Vehicle ID#: \"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        className: \"block w-full shadow border rounded py-2 px-3 text-gray-700 focus:outline-none\",\n        name: \"carId\",\n        ref: register\n      }), /*#__PURE__*/_jsx(\"button\", {\n        class: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n        type: \"submit\",\n        children: \"Proceed\"\n      })]\n    })]\n  });\n};\n\nexport default Signup;","map":null,"metadata":{},"sourceType":"module"}