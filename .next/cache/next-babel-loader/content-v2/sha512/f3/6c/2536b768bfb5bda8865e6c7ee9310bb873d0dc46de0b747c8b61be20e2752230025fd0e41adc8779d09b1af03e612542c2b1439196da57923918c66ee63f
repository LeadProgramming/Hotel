{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/Diana/Desktop/CSUF_SPRING_2021/CPSC_463/projects/hotel/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Diana/Desktop/CSUF_SPRING_2021/CPSC_463/projects/hotel/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport 'firebase/storage';\nimport Link from \"next/link\";\nimport { useEffect, useRef } from \"react\";\nimport fireApp from \"../firebase_config\";\n\nvar Profile = function Profile(_ref) {\n  var guests = _ref.guests;\n  var picsRef = guests === null || guests === void 0 ? void 0 : guests.map(function (i) {\n    return useRef();\n  });\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var imgFiles;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (guests) {\n              imgFiles = [];\n              imgFiles = guests.map(function (i) {\n                return fireApp.storage().refFromURL(\"gs://hotel-3c249.appspot.com/images/\".concat(i.imgName));\n              });\n              imgFiles.map(function (i, j) {\n                i.getDownloadURL().then(function (url) {\n                  i[\"profilePic\"] = url;\n                }).then(function () {\n                  picsRef[j].current.src = i.profilePic;\n                });\n              });\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"space-y-4 \",\n    children: [/*#__PURE__*/_jsx(\"h1\", {\n      className: \"pt-8 pl-8\",\n      children: \"Profile\"\n    }), guests ? /*#__PURE__*/_jsxs(\"table\", {\n      className: \"table-auto\",\n      children: [/*#__PURE__*/_jsx(\"thead\", {\n        children: /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Profile Pic\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"First Name\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Last Name\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Phone\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Address\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Email\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Driver ID#\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Vehicle ID#\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"tbody\", {\n        children: guests === null || guests === void 0 ? void 0 : guests.map(function (i, j) {\n          return /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: /*#__PURE__*/_jsx(\"img\", {\n                ref: picsRef[j],\n                alt: \"guest's image\",\n                width: \"100\",\n                height: \"100\"\n              })\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.firstName\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.lastName\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.phone\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.address\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.email\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.driverId\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.carId\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/profile/\" + i.email,\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: \"View\"\n                })\n              })\n            })]\n          }, JSON.stringify(i));\n        })\n      })]\n    }) : !email && /*#__PURE__*/_jsx(\"p\", {\n      children: \"No user has signed up yet.\"\n    })]\n  });\n};\n\nexport var __N_SSP = true;\nexport default Profile;","map":null,"metadata":{},"sourceType":"module"}