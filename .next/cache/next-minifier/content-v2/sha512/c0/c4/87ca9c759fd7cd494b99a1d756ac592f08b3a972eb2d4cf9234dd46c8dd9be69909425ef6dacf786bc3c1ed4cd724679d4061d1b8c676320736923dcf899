{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{\"20a2\":function(e,t,c){e.exports=c(\"nOHt\")},JNdi:function(e,t,c){\"use strict\";c.r(t),c.d(t,\"__N_SSP\",(function(){return n}));var a=c(\"nKUr\"),s=c(\"20a2\"),o=c(\"/MKj\"),r=c(\"BEfH\"),n=!0;t.default=function(e){var t=e.listings,c=Object(s.useRouter)(),n=Object(o.c)((function(e){return e.reservation}));t.forEach((function(e){e.totalCharge=n.days*e.dailyRate}));return Object(a.jsxs)(\"div\",{className:\"space-y-4\",children:[Object(a.jsx)(\"h1\",{className:\"pt-8 pl-8 \",children:\"Rooms\"}),Object(a.jsxs)(\"table\",{className:\"table-auto\",children:[Object(a.jsx)(\"thead\",{children:Object(a.jsxs)(\"tr\",{children:[Object(a.jsx)(\"th\",{className:\"px-8 \",children:\"Room #\"}),Object(a.jsx)(\"th\",{className:\"px-8 \",children:\"Room Type\"}),Object(a.jsx)(\"th\",{className:\"px-8 \",children:\"Room Status\"}),Object(a.jsx)(\"th\",{className:\"px-8 \",children:\"Daily Rate\"}),Object(a.jsx)(\"th\",{className:\"px-8 \",children:\"Total Charge\"})]})}),Object(a.jsx)(\"tbody\",{children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e,t){return Object(a.jsxs)(\"tr\",{children:[Object(a.jsx)(\"td\",{className:\"px-8 py-4\",children:e.roomNumber}),Object(a.jsx)(\"td\",{className:\"px-8 py-4\",children:e.roomType}),Object(a.jsx)(\"td\",{className:\"px-8 py-4\",children:n.firstName.length?e.roomStatus:Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(\"select\",{role:\"none\",children:[Object(a.jsx)(\"option\",{value:e.roomStatus,children:e.roomStatus}),[\"available\",\"occupied\",\"dirty\",\"maintenance\"].map((function(e){return Object(a.jsx)(\"option\",{value:e,children:e})}))]})})}),e.dailyRate&&n.firstName&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(\"td\",{className:\"px-8 py-4\",children:e.dailyRate}),Object(a.jsx)(\"td\",{className:\"px-8 py-4\",children:e.totalCharge}),Object(a.jsx)(\"td\",{className:\"px-8 py-4\",children:Object(a.jsx)(\"button\",{onClick:function(){!function(e){var t=e.dailyRate,a=e.totalCharge,s=e.roomNumber,o=e.roomType;r.a.firestore().collection(\"reservation\").add({firstName:n.firstName,lastName:n.lastName,reservedDate:Date.now(),checkInDate:n.checkInDate,checkOutDate:n.checkOutDate,roomType:o,roomStatus:\"occupied\",roomNumber:s,dailyRate:t,totalCharge:a}),r.a.firestore().collection(\"room\").doc(s).update({roomStatus:\"occupied\",checkInDate:n.checkInDate,checkOutDate:n.checkOutDate}),c.push(\"/rooms\")}(e)},children:\"Reserve\"})})]})]},JSON.stringify(e))})):\"No rooms available\"})]})]})}},sfIF:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/rooms\",function(){return c(\"JNdi\")}])}},[[\"sfIF\",0,1,5,6,7,2,3,4,9]]]);","map":{"version":3,"sources":["static/chunks/pages/rooms-628923cc7a6584fe9c4b.js"],"names":["_N_E","window","push","20a2","module","exports","__webpack_require__","JNdi","__webpack_exports__","r","d","__N_SSP","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","next_router__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","_firebase_config__WEBPACK_IMPORTED_MODULE_3__","_ref","listings","router","Object","rsrvInfo","state","reservation","forEach","i","days","dailyRate","className","children","length","map","j","roomNumber","roomType","firstName","roomStatus","role","value","totalCharge","onClick","_ref2","firestore","collection","add","lastName","reservedDate","Date","now","checkInDate","checkOutDate","doc","update","reserving","JSON","stringify","sfIF","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/rooms-628923cc7a6584fe9c4b.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[21],{\n\n/***/ \"20a2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"nOHt\")\n\n\n/***/ }),\n\n/***/ \"JNdi\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"BEfH\");\n\n\n\n\n\n\n\nvar Rooms = function Rooms(_ref) {\n  var listings = _ref.listings;\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])();\n  var rsrvInfo = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[/* useSelector */ \"c\"])(function (state) {\n    return state.reservation;\n  });\n  listings.forEach(function (i) {\n    i[\"totalCharge\"] = rsrvInfo.days * i.dailyRate;\n  });\n\n  var reserving = function reserving(_ref2) {\n    var dailyRate = _ref2.dailyRate,\n        totalCharge = _ref2.totalCharge,\n        roomNumber = _ref2.roomNumber,\n        roomType = _ref2.roomType;\n    _firebase_config__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].firestore().collection('reservation').add({\n      firstName: rsrvInfo.firstName,\n      lastName: rsrvInfo.lastName,\n      reservedDate: Date.now(),\n      checkInDate: rsrvInfo.checkInDate,\n      checkOutDate: rsrvInfo.checkOutDate,\n      roomType: roomType,\n      roomStatus: \"occupied\",\n      roomNumber: roomNumber,\n      dailyRate: dailyRate,\n      totalCharge: totalCharge\n    });\n    _firebase_config__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].firestore().collection('room').doc(roomNumber).update({\n      roomStatus: \"occupied\",\n      checkInDate: rsrvInfo.checkInDate,\n      checkOutDate: rsrvInfo.checkOutDate\n    });\n    router.push(\"/rooms\");\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h1\", {\n      className: \"pt-8 pl-8 \",\n      children: \"Rooms\"\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"table\", {\n      className: \"table-auto\",\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"thead\", {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"tr\", {\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"th\", {\n            className: \"px-8 \",\n            children: \"Room #\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"th\", {\n            className: \"px-8 \",\n            children: \"Room Type\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"th\", {\n            className: \"px-8 \",\n            children: \"Room Status\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"th\", {\n            className: \"px-8 \",\n            children: \"Daily Rate\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"th\", {\n            className: \"px-8 \",\n            children: \"Total Charge\"\n          })]\n        })\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"tbody\", {\n        children: (listings === null || listings === void 0 ? void 0 : listings.length) > 0 ? listings.map(function (i, j) {\n          return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"tr\", {\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.roomNumber\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.roomType\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"td\", {\n              className: \"px-8 py-4\",\n              children: !rsrvInfo.firstName.length ? /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"select\", {\n                  role: \"none\",\n                  children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"option\", {\n                    value: i.roomStatus,\n                    children: i.roomStatus\n                  }), [\"available\", \"occupied\", \"dirty\", \"maintenance\"].map(function (i) {\n                    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"option\", {\n                      value: i,\n                      children: i\n                    });\n                  })]\n                })\n              }) : i.roomStatus\n            }), i.dailyRate && rsrvInfo.firstName && /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"td\", {\n                className: \"px-8 py-4\",\n                children: i.dailyRate\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"td\", {\n                className: \"px-8 py-4\",\n                children: i.totalCharge\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"td\", {\n                className: \"px-8 py-4\",\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n                  onClick: function onClick() {\n                    reserving(i);\n                  },\n                  children: \"Reserve\"\n                })\n              })]\n            })]\n          }, JSON.stringify(i));\n        }) : \"No rooms available\"\n      })]\n    })]\n  });\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Rooms);\n\n/***/ }),\n\n/***/ \"sfIF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/rooms\",\n      function () {\n        return __webpack_require__(\"JNdi\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"sfIF\",0,1,5,6,7,2,3,4,9]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Diana\\Desktop\\CSUF_SPRING_2021\\CPSC_463\\projects\\hotel\\node_modules\\next\\router.js","C:\\Users\\Diana\\Desktop\\CSUF_SPRING_2021\\CPSC_463\\projects\\hotel\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Diana\\Desktop\\CSUF_SPRING_2021\\CPSC_463\\projects\\hotel\\pages\\rooms.js","C:\\Users\\Diana\\Desktop\\CSUF_SPRING_2021\\CPSC_463\\projects\\hotel\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Frooms&absolutePagePath=private-next-pages%2Frooms.js!"],"names":[],"mappings":";;;;;;AAAA,iBAAiB,mBAAO,CAAC,MAAsB;;;;;;;;;ACA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACR;AACF;AACR;AACE;AACD;;AAEzC;AACA;AACA,eAAe,6DAAS;AACxB,iBAAiB,uEAAW;AAC5B;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAI,gEAAO;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,gEAAO;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,sBAAsB,8DAAK;AAC3B;AACA,4BAA4B,6DAAI;AAChC;AACA;AACA,KAAK,gBAAgB,8DAAK;AAC1B;AACA,8BAA8B,6DAAI;AAClC,+BAA+B,8DAAK;AACpC,kCAAkC,6DAAI;AACtC;AACA;AACA,WAAW,gBAAgB,6DAAI;AAC/B;AACA;AACA,WAAW,gBAAgB,6DAAI;AAC/B;AACA;AACA,WAAW,gBAAgB,6DAAI;AAC/B;AACA;AACA,WAAW,gBAAgB,6DAAI;AAC/B;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO,gBAAgB,6DAAI;AAC3B;AACA,8BAA8B,8DAAK;AACnC,oCAAoC,6DAAI;AACxC;AACA;AACA,aAAa,gBAAgB,6DAAI;AACjC;AACA;AACA,aAAa,gBAAgB,6DAAI;AACjC;AACA,kEAAkE,6DAAI,CAAC,0DAAS;AAChF,uCAAuC,8DAAK;AAC5C;AACA,0CAA0C,6DAAI;AAC9C;AACA;AACA,mBAAmB;AACnB,wCAAwC,6DAAI;AAC5C;AACA;AACA,qBAAqB;AACrB,mBAAmB;AACnB,iBAAiB;AACjB,eAAe;AACf,aAAa,qDAAqD,8DAAK,CAAC,0DAAS;AACjF,sCAAsC,6DAAI;AAC1C;AACA;AACA,eAAe,gBAAgB,6DAAI;AACnC;AACA;AACA,eAAe,gBAAgB,6DAAI;AACnC;AACA,uCAAuC,6DAAI;AAC3C;AACA;AACA,mBAAmB;AACnB;AACA,iBAAiB;AACjB,eAAe;AACf,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEO;AACQ,oEAAK,E;;;;;;;;ACrHpB;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA6B;AACpD;AACA","file":"x","sourcesContent":["module.exports = require('./dist/client/router')\n","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useRouter } from \"next/router\";\nimport { useSelector } from \"react-redux\";\nimport fireApp from \"../firebase_config\";\n\nvar Rooms = function Rooms(_ref) {\n  var listings = _ref.listings;\n  var router = useRouter();\n  var rsrvInfo = useSelector(function (state) {\n    return state.reservation;\n  });\n  listings.forEach(function (i) {\n    i[\"totalCharge\"] = rsrvInfo.days * i.dailyRate;\n  });\n\n  var reserving = function reserving(_ref2) {\n    var dailyRate = _ref2.dailyRate,\n        totalCharge = _ref2.totalCharge,\n        roomNumber = _ref2.roomNumber,\n        roomType = _ref2.roomType;\n    fireApp.firestore().collection('reservation').add({\n      firstName: rsrvInfo.firstName,\n      lastName: rsrvInfo.lastName,\n      reservedDate: Date.now(),\n      checkInDate: rsrvInfo.checkInDate,\n      checkOutDate: rsrvInfo.checkOutDate,\n      roomType: roomType,\n      roomStatus: \"occupied\",\n      roomNumber: roomNumber,\n      dailyRate: dailyRate,\n      totalCharge: totalCharge\n    });\n    fireApp.firestore().collection('room').doc(roomNumber).update({\n      roomStatus: \"occupied\",\n      checkInDate: rsrvInfo.checkInDate,\n      checkOutDate: rsrvInfo.checkOutDate\n    });\n    router.push(\"/rooms\");\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsx(\"h1\", {\n      className: \"pt-8 pl-8 \",\n      children: \"Rooms\"\n    }), /*#__PURE__*/_jsxs(\"table\", {\n      className: \"table-auto\",\n      children: [/*#__PURE__*/_jsx(\"thead\", {\n        children: /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Room #\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Room Type\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Room Status\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Daily Rate\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            className: \"px-8 \",\n            children: \"Total Charge\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"tbody\", {\n        children: (listings === null || listings === void 0 ? void 0 : listings.length) > 0 ? listings.map(function (i, j) {\n          return /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.roomNumber\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: i.roomType\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"px-8 py-4\",\n              children: !rsrvInfo.firstName.length ? /*#__PURE__*/_jsx(_Fragment, {\n                children: /*#__PURE__*/_jsxs(\"select\", {\n                  role: \"none\",\n                  children: [/*#__PURE__*/_jsx(\"option\", {\n                    value: i.roomStatus,\n                    children: i.roomStatus\n                  }), [\"available\", \"occupied\", \"dirty\", \"maintenance\"].map(function (i) {\n                    return /*#__PURE__*/_jsx(\"option\", {\n                      value: i,\n                      children: i\n                    });\n                  })]\n                })\n              }) : i.roomStatus\n            }), i.dailyRate && rsrvInfo.firstName && /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(\"td\", {\n                className: \"px-8 py-4\",\n                children: i.dailyRate\n              }), /*#__PURE__*/_jsx(\"td\", {\n                className: \"px-8 py-4\",\n                children: i.totalCharge\n              }), /*#__PURE__*/_jsx(\"td\", {\n                className: \"px-8 py-4\",\n                children: /*#__PURE__*/_jsx(\"button\", {\n                  onClick: function onClick() {\n                    reserving(i);\n                  },\n                  children: \"Reserve\"\n                })\n              })]\n            })]\n          }, JSON.stringify(i));\n        }) : \"No rooms available\"\n      })]\n    })]\n  });\n};\n\nexport var __N_SSP = true;\nexport default Rooms;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/rooms\",\n      function () {\n        return require(\"private-next-pages/rooms.js\");\n      }\n    ]);\n  "]}}