_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"20a2":function(e,t,c){e.exports=c("nOHt")},JNdi:function(e,t,c){"use strict";c.r(t),c.d(t,"__N_SSP",(function(){return n}));var a=c("nKUr"),s=c("20a2"),o=c("/MKj"),r=c("BEfH"),n=!0;t.default=function(e){var t=e.listings,c=Object(s.useRouter)(),n=Object(o.c)((function(e){return e.reservation}));t.forEach((function(e){e.totalCharge=n.days*e.dailyRate}));return Object(a.jsxs)("div",{className:"space-y-4",children:[Object(a.jsx)("h1",{className:"pt-8 pl-8 ",children:"Rooms"}),Object(a.jsxs)("table",{className:"table-auto",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"px-8 ",children:"Room #"}),Object(a.jsx)("th",{className:"px-8 ",children:"Room Type"}),Object(a.jsx)("th",{className:"px-8 ",children:"Room Status"}),Object(a.jsx)("th",{className:"px-8 ",children:"Daily Rate"}),Object(a.jsx)("th",{className:"px-8 ",children:"Total Charge"})]})}),Object(a.jsx)("tbody",{children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"px-8 py-4",children:e.roomNumber}),Object(a.jsx)("td",{className:"px-8 py-4",children:e.roomType}),Object(a.jsx)("td",{className:"px-8 py-4",children:n.firstName.length?e.roomStatus:Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("select",{role:"none",children:[Object(a.jsx)("option",{value:e.roomStatus,children:e.roomStatus}),["available","occupied","dirty","maintenance"].map((function(e){return Object(a.jsx)("option",{value:e,children:e})}))]})})}),e.dailyRate&&n.firstName&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("td",{className:"px-8 py-4",children:e.dailyRate}),Object(a.jsx)("td",{className:"px-8 py-4",children:e.totalCharge}),Object(a.jsx)("td",{className:"px-8 py-4",children:Object(a.jsx)("button",{onClick:function(){!function(e){var t=e.dailyRate,a=e.totalCharge,s=e.roomNumber,o=e.roomType;r.a.firestore().collection("reservation").add({firstName:n.firstName,lastName:n.lastName,reservedDate:Date.now(),checkInDate:n.checkInDate,checkOutDate:n.checkOutDate,roomType:o,roomStatus:"occupied",roomNumber:s,dailyRate:t,totalCharge:a}),r.a.firestore().collection("room").doc(s).update({roomStatus:"occupied",checkInDate:n.checkInDate,checkOutDate:n.checkOutDate}),c.push("/rooms")}(e)},children:"Reserve"})})]})]},JSON.stringify(e))})):"No rooms available"})]})]})}},sfIF:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rooms",function(){return c("JNdi")}])}},[["sfIF",0,1,5,6,7,2,3,4,9]]]);